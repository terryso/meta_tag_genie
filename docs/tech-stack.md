# MetaTag Genie 技术栈

## 技术选择

| 类别                 | 技术                               | 版本 / 详情             | 描述 / 目的                                                     | 理由 (可选)                                                                 |
| :------------------- | :--------------------------------- | :---------------------- | :-------------------------------------------------------------- | :-------------------------------------------------------------------------- |
| **语言** | TypeScript                         | ~5.x (最新稳定版)        | 用于开发核心 MCP 服务的主要编程语言                               | PRD 强制要求                                                                |
| **运行时** | Node.js                            | ~22.x (最新 LTS 版)     | 服务器端 JavaScript 运行时环境                                  | PRD 强制要求，适合 TypeScript 开发                                            |
| **MCP 实现库** | `@modelcontextprotocol/sdk`        | 最新稳定版             | 官方 TypeScript SDK，用于实现 MCP 服务、Tool 定义和 Stdio 传输 | 简化 MCP 规范的遵从，处理 JSON-RPC 消息和 Stdio 通信 (Source 1.1, 1.2, 2.6) |
| **元数据处理** | `exiftool-vendored`                | 最新稳定版             | 读取和写入图片文件 (JPG, PNG, HEIC) 的元数据                      | 强大的格式支持 (包括 HEIC 写入)，可靠性高，是行业标准 ExifTool 的封装           |
| **测试框架** | Jest                               | 最新稳定版             | 单元测试和集成测试框架                                            | 广泛使用，功能全面，与 TypeScript 兼容性好                                  |
| **Linting 工具** | ESLint                             | 最新稳定版             | 代码规范检查                                                      | 保持代码一致性和可读性                                                        |
| **代码格式化** | Prettier                           | 最新稳定版             | 自动代码格式化                                                    | 统一代码风格                                                                |
| **目标平台** | macOS                              | 最新两个主要版本        | 应用程序将在此操作系统上运行并与 Spotlight 集成                     | PRD 规定                                                                    |

## 变更日志

| 变更内容      | 日期       | 版本  | 描述                                                     | 作者        |
| ------------- | ---------- | ----- | -------------------------------------------------------- | ----------- |
| 初稿          | 2025-05-07 | 0.1   | 基于 PRD 和初始技术决策创建                                 | 3-Architect |
|修订 | 2025-05-07 | 0.2 | 确认测试/linting工具, 添加 `@modelcontextprotocol/sdk` | 3-Architect |